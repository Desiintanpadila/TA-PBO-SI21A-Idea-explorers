<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Absensi Siswa Kegiatan SMA DCC Global School</title>
    <style>
       .area_componen {
            display: flex;
            align-items: center;
            margin: 10px;
}

  body {
    font-family: Arial, sans-serif;
    background-color: #ffffff;
    margin: 0;
    padding: 0;
     padding: 0;
}
.label {
    margin-bottom: 5px;
    font-weight: bold;
}

input,
select {
    width: 100%;
    padding: 8px;
    border: 1px solid #020101;
    border-radius: 4px;
}
.btn_component {
        outline: 0;
        border-radius: 25px;
        border: 1px solid #333333;
        height: 40px;
        padding: 10px 30px;
        cursor: pointer;
        background: #490606;
      }
button {
    background-color: #c4142b;
    color: #fff;
    border: none;
    padding: 10px;
    border-radius: 4px;
    cursor: pointer;
}
button:hover {
    background-color: #e20909;
}
.frame_table {
        border: 1px solid #333333;
        height: 30px;
        padding: 10px;
}
.frame_header {
        background: #ffffff;
        height: 30px;
        padding: 10px;
}
.remove_cell {
        background-color: #ffbbbb;
        cursor: pointer;
      }
    </style>
</head>
<body>
    <!-- area component -->
    <section class="area_component">
        <!-- area label -->
        <section class="area_label">
          <label for="txt_Nama">Nama</label>
        </section>
     <!-- area input -->
        <section class="area_input">
          <input
            type="text"
            name=""
            id="txt_Nama"
            placeholder="Isi Nama Siswa"
            class="txt_component"
          />
        </section>
      </section>

            <section class="area_component">
                <section class="area_label">
                    <label>Kelas</label>
                </section>
          
                <section class="area_input">
                    <select name="" id="txt_Kelas" class="cbo_component">
                        <option value="-">Isi Kelas</option>
                        <option value="X">X</option>
                        <option value="XI">XI</option>
                        <option value="XII">XII</option>
                    </select>
                </section>
            </section> 

    
            <section class="area_component">
                <section class="area_label">
                    <label>Kegiatan</label>
                </section>
          
                <section class="area_input">
                    <select name="" id="txt_Kegiatan" class="cbo_component">
                        <option value="-">Isi Kegiatan</option>
                        <option value="Osis">Osis</option>
                        <option value="Pramuka">Pramuka</option>
                        <option value="Pmr">Pmr</option>
                        <option value="English clup">English clup</option>
                        <option value="Silat">Silat</option>
                        <option value="Renang">Renang/option>
                    </select>
                </section>
            </section> 

            <section class="area_component">
                <section class="area_label">
                    <label>Kehadiran</label>
                </section>
          
                <section class="area_input">
                    <select name="" id="txt_Kehadiran" class="cbo_component">
                        <option value="-">Isi Kehadiran</option>
                        <option value="Hadir">Hadir</option>
                        <option value="Tidak Hadir">Tidak Hadir</option>
            </select>
            </section>

                <label for="tanggal">Tanggal:</label>
                <input type="date" id="tanggal" name="tanggal" required>    
                </section>    
            </select> 
</section> 
 <!-- area component -->
        <section class="area_component">
            <!-- area tombol -->
        <button id="btn_tambah" class="btn_component">Tambah Data</button>   

        </section>

        <!-- area tabel -->
    <table id="tbl_data">
        <!-- baris tabel -->
        <tr>
             <!-- kolom tabel -->  
    <th class="frame_table frame_header" style="width: 20%">Aksi</th>
    <th class="frame_table frame_header" style="width: 10%">No</th>
    <th class="frame_table frame_header" style="width: 40%">Nama</th>
    <th class="frame_table frame_header" style="width: 20%">Kelas</th>
    <th class="frame_table frame_header" style="width: 30%">Kegiatan</th>
    <th class="frame_table frame_header" style="width: 20%">Kehadiran</th>
    <th class="frame_table frame_header" style="width: 20%">Tanggal</th>
    </tr>
    </table>
    <script>
<!-- internal js -->
    <script>
        // insisialisasi variabel komponen
        let txt_nama = document.querySelector("#txt_nama");
        let txt_Kelas = document.querySelector("#txt_kelas");
        let txt_Kegiatan = document.querySelector("#txt_kegiatan");
        let txt_Kehadiran = document.querySelector("#txt_kehadiran");
        let txt_Tanggal = document.querySelector("#txt_tanggal");
        let btn_tambah = document.querySelector("#txt_tambah");
        let tbl_data = document.querySelector("#tbl_data");
   
        // insialisasi variabel untuk menampung array
        let data = [];

        // event pada saat "btn_tambah" di klik
        btn_tambah.addEventListenner("click", () => {
            // jika salah satu "btn_tambah" di klik
            if (ttxt_Nama.value == "" || txt_kelas.value == "" || txt_kegiatan.value == "" || txt_kehadiran.value == "" || txt_tanggal.value == "") {
                // tampilkan pesan
                alert("Lengkapi Seluruh Data !");
            }
            // jika seluruh data input sudah diisi
            else {
                // isi array dari nilai "txt_nama" "txt_kelas" "txt_kegiatan" "txt_kehadiran" dan "txt_tanggal"
                data.push ([txt_Nama.value, txt_kelas.value, txt_kegiatan, txt_kehadiran.value, txt_tanggal]);

                // panggil fungsi "viewData"
                viewData();
            }
        });

        // buat fungsi "clearComponent" untuk menghapus isi pada komponen input
        const clearComponent = () => {
            txt_Nama.value = "";
            txt_kelas.value = "";
            txt_kegiatan.value = "";
            txt_kehadiran.value = "";
            txt_tanggal.value = "";
        }
        // buat fungsi "viewData" untuk mennampilkan data array ke dalam tabel
        const viewData = () => {
            // insialisasi variabel untuk baris tabel. diisi dengan nilai 0
            let baris_tabel = 0;
            // insialisasi variabel untuk baris dan kolom tabel
            let content_tabel = `<tr>
                <th class="frame_table frame_header" style="width: 20%">Aksi</th>
                <th class="frame_table frame_header" style="width: 10%">No</th>
                <th class="frame_table frame_header" style="width: 40%">Nama</th>
                <th class="frame_table frame_header" style="width: 20%">Kelas</th>
                <th class="frame_table frame_header" style="width: 30%">Kegiatan</th>
                <th class="frame_table frame_header" style="width:20%">Kehadiran</th>
                <th class="frame_table frame_header" style="width: 20%">Tanggal</th>
            </tr>`;

            // lakukan perulangan "forEach" > (looping untuk array)
            // isi data > data yang akan ditampilkan ke tabel
            // looping data > jumlah data(array) yang ditampilkan ke tabel dimana looping dimulai dari 0
            data.forEach((isi_data, looping_data) => {
                // buat baris isi
                content_tabel += "<tr>";

                    // buat kolom untuk Hapus Data 
                    content_tabel += `<td class="frame_table" remove_cell" style="text-align: center" onclick="removeData((${looping_data})">Hapus Data</td>`;
                     // buat kolom untuk nomor
                    content_tabel += `<td class="frame_table" style="text-align: center">${looping_data+1}</td>`;
                    // buat kolom untuk data nama
                    content_tabel += `<td class="frame_table" style="text-align: center">${isi_data[0]}</td>`;
                    // buat kolom untuk data kelas
                    content_tabel += `<td class="frame_table">${isi_data[1]}</td>`;
                    // buat kolom untuk data kegiatan
                    content_tabel += `<td class="frame_tabel">${isi_data[2]}</td>`;
                    // buat kolom untuk data kehadiran
                    content_tabel += `<td class="frame_tabel">${isi_data[3]}</td>`;
                    // buat kolom untuk data tanggal
                    content_tabel += `<td class="frame_tabel">${isi_data[4]}</td>`;

                    // tutup baris isi
                    content_tabel += "</tr>";

                    // tambah baris baru (baris-tabel ditambah 1)
                    baris_tabel ++;
                });
                // tampiilkan "content_tabel" ke dalam "tbl_data"
                tbl_data.innerHTML = content_tabel;

                // panggil fungsi "clearComponent"
                clearComponent();
            };

             // buat fungsi "removeData" untuk menghapus array berdasarkan index yang dipiilih
             const removeData = (index) => {
                // jika tombol "OK" di klik
                if (
                    confirm(
                        `Absensi Siswa : ${data[index][1]} (index ke-${index}) Ingin Dihapus?`
                        ) == true
                ) {
                    // hapus array berdasarkan index yang dipilih
                    data.splice(index, 1);

                    // panggil fungsi "viewData"
                    viewData();
                }
            };
        </script>
        </body>
      </html>
