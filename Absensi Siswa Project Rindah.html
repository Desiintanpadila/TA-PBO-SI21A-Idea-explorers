<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Absensi Siswa Kegiatan SMA DCC Global School</title>
    <style>
    body {
    font-family: Arial, sans-serif;
    background-color: #ffffff;
    margin: 0;
    padding: 0;
}
.label {
    margin-bottom: 5px;
    font-weight: bold;
}

input,
select {
    width: 100%;
    padding: 8px;
    border: 1px solid #020101;
    border-radius: 4px;
}

button {
    background-color: #c4142b;
    color: #fff;
    border: none;
    padding: 10px;
    border-radius: 4px;
    cursor: pointer;
}

button:hover {
    background-color: #e20909;
}
.frame_table {
        border: 1px solid #333333;
        height: 30px;
        padding: 10px;
      }
   
#riwayatAbsensi {
    margin-top: 20px;
}

#riwayatAbsensi table {   .frame_header {
        background: #f3f3f3;
        height: 30px;
        padding: 10px;
      }

}

#riwayatAbsensi th, #riwayatAbsensi td {
    border: 1px solid #9e1b1b;
    padding: 8px;
    text-align: left;
}

#riwayatAbsensi th {
    background-color: #b61f77;
    color: #fff;
}     
    </style>
</head>
<body>
    <div class="container">
        <h1>Absensi Siswa Kegiatan SMA DCC Global School</h1>
        <form id="absensiForm">
            <label for="nama">Nama:</label>
            <input type="text" id="nama" name="nama" required>

            <label for="kelas">Kelas:</label>
            <select id="kelas" name="kelas" required>
                <option value="X">X</option>
                <option value="XI">XI</option>
                <option value="XII">XII</option>
            </select>

            <label for="kegiatan">Kegiatan:</label>
            <select id="kegiatan" name="kegiatan" required>
                <option value="osis">Osis</option>
                <option value="pramuka">Pramuka</option>
                <option value="pmr">PMR</option>
                <option value="english-club">English Club</option>
                <option value="silat">Silat</option>
                <option value="renang">Renang</option>
            </select>

            <label for="kehadiran">Kehadiran:</label>
            <select id="kehadiran" name="kehadiran" required>
                <option value="hadir">Hadir</option>
                <option value="tidak-hadir">Tidak Hadir</option>
            </select>

            <label for="tanggal">Tanggal:</label>
            <input type="date" id="tanggal" name="tanggal" required>

            <button type="button" onclick="submitAbsensi()">Submit</button>
        </form>

        <!-- area tabel -->
    <table id="tbl_data">
        <!-- baris tabel -->
        <tr>
                <!-- kolom tabel -->  
    <th class="frame_table frame_header" style="width: 20%">Aksi</th>
    <th class="frame_table frame_header" style="width: 10%">No</th>
    <th class="frame_table frame_header" style="width: 40%">Nama</th>
    <th class="frame_table frame_header" style="width: 20%">Kelas</th>
    <th class="frame_table frame_header" style="width: 30%">Kegiatan</th>
    <th class="frame_table frame_header" style="width: 20%">Kehadiran</th>
    <th class="frame_table frame_header" style="width: 20%">Tanggal</th>
    </tr>
    </table>

    <!-- internal js -->
    <script>
        // inisialisasi variabel komponen
        let txt_nama = document.querySelector("#txt_nama");
        let txt_kelas = document.querySelector("#txt_kelas");
        let txt_kegiatan = document.querySelector("#txt_kegiatan");
        let txt_kehadiran = document.querySelector("#txt_kehadiran");
        let txt_tanggal = document.querySelector("#txt_tanggal"); 

        // insialisasi variabel untuk menampung array
        let data = [];

        // event pada saat "btn_tambah" di klik
        btn_tambah.addEventListenner("click", () => {
            // jikasalah satu "btn_tambah" di klik
            if (txt_nama.value == "" || txt_kelas.value == "" || txt_kegiatan.value == "" || txt_kehadiran.value == "" || txt_tanggal.value == "") {
                // tampilkan pesan
                alert("Lengkapi Seluruh Data |");
            }
            // jika seluruh data input sudah diisi
            else {
                // isi array dari nilai "txt_nama" "txt_kelas" "txt_kegiatan" "txt_kehadiran" dan "txt_tanggal"
                data.push ([txt_nama.value, txt_kelas.value, txt_kegiatan, txt_kehadiran.value, txt_tanggal]);

                // panggil fungsi "viewData"
                viewData();
            }
        });

        // buat fungsi "clearComponent" untuk menghapus isi pada komponen input
        const clearComponent = () => {
            txt_nama.value = "";
            txt_kelas.value = "";
            txt_kegiatan.value = "";
            txt_kehadiran.value = "";
            txt_tanggal.value = "";
        }
        // buat fungsi "viewData" untuk mennampilkan data array ke dalam tabel
        const viewData = () => {
            // insialisasi variabel untuk baris tabel. diisi dengan nilai 0
            let baris_tabel = 0;
            // insialisasi variabel untuk baris dan kolom tabel
            let content_tabel = `<tr>
                <th class="frame_table frame_header" style="width: 20%">Aksi</th>
                <th class="frame_table frame_header" style="width: 10%">No</th>
                <th class="frame_table frame_header" style="width: 40%">Nama</th>
                <th class="frame_table frame_header" style="width: 20%">Kelas</th>
                <th class="frame_table frame_header" style="width: 30%">Kegiatan</th>
                <th class="frame_table frame_header" style="width:20%">Kehadiran</th>
                <th class="frame_table frame_header" style="width: 20%">Tanggal</th>
            </tr>`;

            // lakukan perulangan "forEach" > (looping untuk array)
            // isi data > data yang akan ditampilkan ke tabel, dimana looping dimulai dari 0
            data.forEach((isi_data, looping_data) => {
                // buat baris isi
                content_tabel += "<tr>";

                    // buat kolom untuk Hapus Data 
                    content_tabel += `<td class="frame_table" remove_cell" style="text-align: center" onclick="removeData((${looping_data})">Hapus Data</td>`;
                     // buat kolom untuk nomor
                    content_tabel += `<td class="frame_table" style="text-align: center">${looping_data+1}</td>`;
                    // buat kolom untuk data nama
                    content_tabel += `<td class="frame_table" style="text-align: center">${isi_data[0]}</td>`;
                    // buat kolom untuk data kelas
                    content_tabel += `<td class="frame_table">${isi_data[1]}</td>`;
                    // buat kolom untuk data kegiatan
                    content_tabel += `<td class="frame_tabel">${isi_data[2]}</td>`;
                    // buat kolom untuk data kehadiran
                    content_tabel += `<td class="frame_tabel">${isi_data[3]}</td>`;
                    // buat kolom untuk data tanggal
                    content_tabel += `<td class="frame_tabel">${isi_data[4]}</td>`;

                    // tutup baris isi
                    content_tabel += "</tr>";

                    // tambah baris baru (baris-tabel ditambah 1)
                    baris_tabel ++;
                });
                // tampiilkan "content_tabel" ke dalam "tbl_data"
                tbl_data.innerHTML = content_tabel;

                // panggil fungsi "clearComponent"
                clearComponent();
            };

             // buat fungsi "removeData" untuk menghapus array berdasarkan index yang dipiilih
             const removeData = (index) => {
                // jika tombol "OK" di klik
                if (
                    confirm(
                        `Data Siswa : ${data[index][1]} (index ke-${index}) Ingin Dihapus?`
                        ) == true
                ) {
                    // hapus array berdasarkan index yang dipilih
                    data.splice(index, 1);

                    // panggil fungsi "viewData"
                    viewData();
                }
              };
            <!-- Riwayat absensi akan ditampilkan di sini -->
    
// Fungsi untuk menangani pengiriman absensi
function submitAbsensi() {
    // Dapatkan nilai dari formulir
    var nama = document.getElementById("nama").value;
    var kelas = document.getElementById("kelas").value;
    var kegiatan = document.getElementById("kegiatan").value;
    var kehadiran = document.getElementById("kehadiran").value;
    var tanggal = document.getElementById("tanggal").value;

    // Buat elemen tabel untuk menampilkan riwayat absensi
    var table = document.createElement("table");
    table.innerHTML = "<tr><th>Nama</th><th>Kelas</th><th>Kegiatan</th><th>Kehadiran</th><th>Tanggal</th></tr>";

    // Tambahkan baris baru untuk absensi terbaru
    var newRow = table.insertRow(1);
    newRow.insertCell(0).innerHTML = nama;
    newRow.insertCell(1).innerHTML = kelas;
    newRow.insertCell(2).innerHTML = kegiatan;
    newRow.insertCell(3).innerHTML = kehadiran;
    newRow.insertCell(4).innerHTML = tanggal;

    // Tampilkan riwayat absensi
    document.getElementById("riwayatAbsensi").appendChild(table);
}
    </script>
</html>
    </script>
    </body>
</html>

    </script>
</section> 

    <script>
// Fungsi untuk menangani pengiriman absensi
function submitAbsensi() {
    // Dapatkan nilai dari formulir
    var nama = document.getElementById("nama").value;
    var kelas = document.getElementById("kelas").value;
    var kegiatan = document.getElementById("kegiatan").value;
    var kehadiran = document.getElementById("kehadiran").value;
    var tanggal = document.getElementById("tanggal").value;

    // Buat elemen tabel untuk menampilkan riwayat absensi
    var table = document.createElement("table");
    table.innerHTML = "<tr><th>Nama</th><th>Kelas</th><th>Kegiatan</th><th>Kehadiran</th><th>Tanggal</th></tr>";

    // Tambahkan baris baru untuk absensi terbaru
    var newRow = table.insertRow(1);
    newRow.insertCell(0).innerHTML = nama;
    newRow.insertCell(1).innerHTML = kelas;
    newRow.insertCell(2).innerHTML = kegiatan;
    newRow.insertCell(3).innerHTML = kehadiran;
    newRow.insertCell(4).innerHTML = tanggal;

    // Tampilkan riwayat absensi
    document.getElementById("riwayatAbsensi").appendChild(table);
}
    </script>
</html>